<!DOCTYPE html>
<head>
 <title>Open Source Code Groups</title>
</head>
<ul class="list-unstyled">
   <li>
      <details>
         <summary>Federal</summary>
         <div class="list-group">
            {% assign repo_array = "" | split: ','%}
            {% for fptms in site.data.code %}
                {% assign fptm = fptms[1] %}
                {% for admins in fptm %}
                    {% assign admin = admins[1] %}
                    {% for release in admin.releases %}
                        {% assign aName = site.data.administrations.federal | where: "code", admin.adminCode %}
                        {% if aName[0].name[page.lang] != nil %}
                            {% if release.repositoryURL[page.lang] != nil %}
                                {% assign repo_url =  release.repositoryURL[page.lang] | remove: "https://"  | split: "/" %}
                                {% assign repo_size =  repo_url | size %}
                                {% if repo_size == 3  %}
                                    {% assign org_url =  aName[0].name[page.lang] | append: "/" | append: repo_url[0] | append: "/" |  append: repo_url[1]  %}
                                    {% assign repo_array = repo_array | push: org_url%}
                                    {% elsif repo_size == 4  %}
                                    {% assign org_url =  aName[0].name[page.lang] | append: "/" | append: repo_url[0] | append: "/" |  append: repo_url[1] | append: "/" |  append: repo_url[2]  %}
                                    {% assign repo_array = repo_array | push: org_url %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            {% endfor %}
           
            {% assign repo_array = repo_array | sort: "name" | uniq %}
            {% for repo in repo_array %}
                {% assign org_name =  repo | split: "/" %}
                {% if org_name.size == 3  %}
                <div class="list-group">
                    <a href="{{"https://"| append: org_name[1] | append: "/" | append: org_name[2] }}" class="list-group-item" target="_blank">
                        <ul>
                            <li>
                                {{ org_name[2] }} 
                            </li>
                        </ul>
                    </a>    
                        <ul class="lst-none"> 
                            {{ org_name[0] }} 
                        </ul>
                </div>
                <div class="list-group">
                {% elsif org_name.size == 4  %}
                    <a href="{{"https://"| append: org_name[1] | append: "/" | append: org_name[2] | append: "/" | append: org_name[3] }}" target="_blank">
                    <ul>
                            <li>
                                {{ org_name[3] }} 
                            </li>
                        </ul>
                    </a>
                        <ul class="lst-none"> 
                            {{ org_name[0] }} 
                        </ul>
                </div>
                {% endif %}
            {% endfor %}            
         </div>
      </details>

   </li>
   <li>
      <details>
         <summary>Provincial</summary>
        <div class="list-group">
            {% assign repo_array = "" | split: ','%}
            {% for fptms in site.data.code %}
                {% assign fptm = fptms[1] %}
                {% for admins in fptm %}
                    {% assign admin = admins[1] %}
                    {% for release in admin.releases %}
                        {% assign aName = site.data.administrations.provincial | where: "code", admin.adminCode %}
                        {% if aName[0].name[page.lang] != nil %}
                            {% if release.repositoryURL[page.lang] != nil %}
                                {% assign repo_url =  release.repositoryURL[page.lang] | remove: "https://"  | split: "/" %}
                                {% assign repo_size =  repo_url | size %}
                                {% if repo_size == 3  %}
                                    {% assign org_url =  aName[0].name[page.lang] | append: "/" | append: repo_url[0] | append: "/" |  append: repo_url[1]  %}
                                    {% assign repo_array = repo_array | push: org_url%}
                                    {% elsif repo_size == 4  %}
                                    {% assign org_url =  aName[0].name[page.lang] | append: "/" | append: repo_url[0] | append: "/" |  append: repo_url[1] | append: "/" |  append: repo_url[2]  %}
                                    {% assign repo_array = repo_array | push: org_url %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            {% endfor %}
            
            {% assign repo_array = repo_array | sort: "name" | uniq %}
            {% for repo in repo_array %}
                {% assign org_name =  repo | split: "/" %}
                {% if org_name.size == 3  %}
                <div class="list-group">
                    <a href="{{"https://"| append: org_name[1] | append: "/" | append: org_name[2] }}" class="list-group-item" target="_blank">
                        <ul>
                            <li>
                                {{ org_name[2] }} 
                            </li>
                        </ul>
                    </a>    
                        <ul class="lst-none"> 
                            {{ org_name[0] }} 
                        </ul>
                </div>
                <div class="list-group">
                {% elsif org_name.size == 4  %}
                    <a href="{{"https://"| append: org_name[1] | append: "/" | append: org_name[2] | append: "/" | append: org_name[3] }}" target="_blank">
                    <ul>
                            <li>
                                {{ org_name[3] }} 
                            </li>
                        </ul>
                    </a>
                        <ul class="lst-none"> 
                            {{ org_name[0] }} 
                        </ul>
                </div>
                {% endif %}
            {% endfor %}            
         </div>
      </details>

   </li>
   <li>
      <details>
      <summary>Municipal</summary>
     <div class="list-group">
            {% assign repo_array = "" | split: ','%}
            {% for fptms in site.data.code %}
                {% assign fptm = fptms[1] %}
                {% for admins in fptm %}
                    {% assign admin = admins[1] %}
                    {% for release in admin.releases %}
                        {% assign aName = site.data.administrations.municipal | where: "code", admin.adminCode %}
                        {% if aName[0].name[page.lang] != nil %}
                            {% if release.repositoryURL[page.lang] != nil %}
                                {% assign repo_url =  release.repositoryURL[page.lang] | remove: "https://"  | split: "/" %}
                                {% assign repo_size =  repo_url | size %}
                                {% if repo_size == 3  %}
                                    {% assign org_url =  aName[0].name[page.lang] | append: "/" | append: repo_url[0] | append: "/" |  append: repo_url[1]  %}
                                    {% assign repo_array = repo_array | push: org_url%}
                                    {% elsif repo_size == 4  %}
                                    {% assign org_url =  aName[0].name[page.lang] | append: "/" | append: repo_url[0] | append: "/" |  append: repo_url[1] | append: "/" |  append: repo_url[2]  %}
                                    {% assign repo_array = repo_array | push: org_url %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            {% endfor %}
            
            {% assign repo_array = repo_array | sort: "name" | uniq %}
            {% for repo in repo_array %}
                {% assign org_name =  repo | split: "/" %}
                {% if org_name.size == 3  %}
                <div class="list-group">
                    <a href="{{"https://"| append: org_name[1] | append: "/" | append: org_name[2] }}" class="list-group-item" target="_blank">
                        <ul>
                            <li>
                                {{ org_name[2] }} 
                            </li>
                        </ul>
                    </a>    
                        <ul class="lst-none"> 
                            {{ org_name[0] }} 
                        </ul>
                </div>
                <div class="list-group">
                {% elsif org_name.size == 4  %}
                    <a href="{{"https://"| append: org_name[1] | append: "/" | append: org_name[2] | append: "/" | append: org_name[3] }}" target="_blank">
                    <ul>
                            <li>
                                {{ org_name[3] }} 
                            </li>
                        </ul>
                    </a>
                        <ul class="lst-none"> 
                            {{ org_name[0] }} 
                        </ul>
                </div>
                {% endif %}
            {% endfor %}            
         </div>
      </details>
   </li>
</ul>